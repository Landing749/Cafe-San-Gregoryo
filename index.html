<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Caf√© San Gregoryo ‚Äî Home</title>
  <style>
    :root{
      --bg:#fffaf6; --accent:#7b3f00; --muted:#6b5750; --card:#fff; --glass: rgba(255,255,255,0.6);
      --shadow: 0 6px 18px rgba(0,0,0,0.08);
      --accent-2:#dba15a;
      font-synthesis: none;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:linear-gradient(180deg,#fffaf6 0%, #fff4ea 100%);color:#2b2b2b}
    header{background:linear-gradient(90deg,var(--accent-2),var(--accent));padding:28px 6%;color:#fff;display:flex;align-items:center;justify-content:space-between;gap:20px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{width:56px;height:56px;border-radius:12px;background:radial-gradient(circle at 35% 25%, #ffe9c7, #f6c77b);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);box-shadow:0 6px 18px rgba(123,63,0,0.18)}
    .brand h1{font-size:20px;margin:0}
    nav{display:flex;gap:18px;align-items:center}
    nav a{color:rgba(255,255,255,0.95);text-decoration:none;font-weight:600}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:40px;padding:48px 6%;align-items:center}
    .hero .intro{max-width:760px}
    .eyebrow{font-weight:700;color:var(--accent);background:rgba(255,255,255,0.7);display:inline-block;padding:6px 10px;border-radius:8px}
    h2{font-size:40px;margin:12px 0;color:var(--accent)}
    p.lead{color:var(--muted);line-height:1.6}
    .cta{margin-top:18px;display:flex;gap:12px}
    .btn{background:var(--accent);color:#fff;border:none;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 8px 20px rgba(123,63,0,0.18)}
    .btn.secondary{background:transparent;color:var(--accent);border:2px solid rgba(255,255,255,0.18)}
    .card{background:var(--card);border-radius:14px;padding:18px;box-shadow:var(--shadow)}
    .special-box{display:flex;flex-direction:column;gap:12px}
    .special-item{display:flex;gap:12px;align-items:center}
    .thumb{width:84px;height:64px;border-radius:10px;background:linear-gradient(135deg,#ffd9b3,#ffd0a3);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent)}
    .price{font-weight:800;color:var(--accent)}

    main{padding:36px 6%;display:flex;flex-direction:column;gap:28px}
    .menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .menu-card{background:linear-gradient(180deg,#fff,#fffaf0);border-radius:12px;padding:14px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px}
    .menu-card h4{margin:0}
    .desc{color:#6b5750;font-size:14px}
    .meta{display:flex;justify-content:space-between;align-items:center}
    .small{font-size:13px;color:#8a6f63}
    footer{padding:24px 6%;border-top:1px solid rgba(0,0,0,0.04);display:flex;justify-content:space-between;align-items:center}

    /* cart */
    .cart-btn{position:fixed;right:22px;bottom:22px;background:var(--accent);color:#fff;padding:14px 16px;border-radius:999px;box-shadow:0 14px 34px rgba(123,63,0,0.28);cursor:pointer;border:none;font-weight:700}
    .drawer{position:fixed;right:22px;bottom:82px;width:360px;max-height:74vh;background:var(--card);border-radius:12px;box-shadow:0 24px 60px rgba(0,0,0,0.12);overflow:auto;padding:14px;display:none}
    .drawer.open{display:block}
    .cart-item{display:flex;gap:12px;align-items:center;padding:10px 0;border-bottom:1px dashed rgba(0,0,0,0.05)}
    .qty{display:flex;gap:6px;align-items:center}
    .qty button{padding:6px 8px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);background:#fff}
    .checkout{display:flex;justify-content:space-between;align-items:center;margin-top:12px}

    /* responsive */
    @media (max-width:900px){.hero{grid-template-columns:1fr;padding:32px 5%}.brand h1{font-size:18px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">SG</div>
      <div>
        <h1>Caf√© San Gregoryo</h1>
        <div style="font-size:13px;opacity:0.9">Specialty caf√© ‚Ä¢ Indang, Cavite</div>
      </div>
    </div>
    <nav>
      <a href="#specialties">Specialties</a>
      <a href="#menu">Menu</a>
      <a href="#order">Order</a>
      <a href="#about">About</a>
    </nav>
  </header>

  <section class="hero">
    <div class="intro">
      <div class="eyebrow">Kape at Kuwento</div>
      <h2>Sa tabi ng San Gregoryo ‚Äî lasa at alaala</h2>
      <p class="lead">Tara ‚Äî magpahinga sa aming tahimik na kanto. Pinagsama namin ang mga sining ng lokal na paninigang at kape ‚Äî inihahain sa simpleng paraan pero puno ng puso. Perfect para sa umaga, hapon, at mga sambuhay na alaala.</p>
      <div class="cta">
        <button class="btn" onclick="document.getElementById('order').scrollIntoView({behavior:'smooth'})">Mag-order</button>
        <button class="btn secondary" onclick="document.getElementById('about').scrollIntoView({behavior:'smooth'})">Tungkol sa Amin</button>
      </div>
    </div>

    <aside class="card special-box">
      <strong>Mga Tampok</strong>
      <div class="special-item">
        <div class="thumb">‚òï</div>
        <div>
          <div style="font-weight:800">Kapeng San Gregoryo</div>
          <div class="small">Blend ng lokal na kape at espreso</div>
          <div class="price">‚Ç±120</div>
        </div>
      </div>

      <div class="special-item">
        <div class="thumb">ü•ê</div>
        <div>
          <div style="font-weight:800">Ensaymada ala Casa</div>
          <div class="small">Malambot, may keso at asukal</div>
          <div class="price">‚Ç±80</div>
        </div>
      </div>

      <div class="special-item">
        <div class="thumb">üç≤</div>
        <div>
          <div style="font-weight:800">Adobong Gata</div>
          <div class="small">Luha-luto ng nanay, creamy at malinamnam</div>
          <div class="price">‚Ç±160</div>
        </div>
      </div>

    </aside>
  </section>

  <main>
    <section id="specialties">
      <h3>Pinakamamahal na Espesyalidad</h3>
      <div class="menu-grid" style="margin-top:12px">
        <!-- cards -->
        <div class="menu-card">
          <h4>Kapeng San Gregoryo</h4>
          <div class="desc">Blend ng Indang beans ‚Äî may cocoa at citrus notes. Inirerekomenda namin bilang house espresso o pour-over.</div>
          <div class="meta"><div class="small">Barista‚Äôs pick</div><div class="price">‚Ç±120</div></div>
          <button class="btn" onclick="addToCart('Kapeng San Gregoryo',120)">Add to Order</button>
        </div>

        <div class="menu-card">
          <h4>Ensaymada ala Casa</h4>
          <div class="desc">Homestyle ensaymada: malambot, buttery, may keso sa ibabaw.</div>
          <div class="meta"><div class="small">Pasalubong favorite</div><div class="price">‚Ç±80</div></div>
          <button class="btn" onclick="addToCart('Ensaymada ala Casa',80)">Add to Order</button>
        </div>

        <div class="menu-card">
          <h4>Adobong Gata</h4>
          <div class="desc">Coconut-adobo fusion ‚Äî malinamnam at sadyang comforting.</div>
          <div class="meta"><div class="small">Main Course</div><div class="price">‚Ç±160</div></div>
          <button class="btn" onclick="addToCart('Adobong Gata',160)">Add to Order</button>
        </div>

        <div class="menu-card">
          <h4>Halo-Halo Local</h4>
          <div class="desc">Ipinagmamalaking halo-halo gamit ang local ube at leche flan.</div>
          <div class="meta"><div class="small">Dessert</div><div class="price">‚Ç±140</div></div>
          <button class="btn" onclick="addToCart('Halo-Halo Local',140)">Add to Order</button>
        </div>

        <div class="menu-card">
          <h4>Tsokolate ng Indang</h4>
          <div class="desc">Rich hot chocolate gawa sa lokal na cacao beans.</div>
          <div class="meta"><div class="small">Comfort</div><div class="price">‚Ç±95</div></div>
          <button class="btn" onclick="addToCart('Tsokolate ng Indang',95)">Add to Order</button>
        </div>

        <div class="menu-card">
          <h4>Pandesal Pang-umaga</h4>
          <div class="desc">Mainit-mainit, perfect with butter or kesong puti.</div>
          <div class="meta"><div class="small">Breakfast</div><div class="price">‚Ç±25</div></div>
          <button class="btn" onclick="addToCart('Pandesal Pang-umaga',25)">Add to Order</button>
        </div>

      </div>
    </section>

    <section id="order" style="margin-top:18px">
      <h3>Order (Mock)</h3>
      <p class="small">Gamitin ang mga "Add to Order" button sa bawat produkto. Ito ay isang demo ‚Äî hindi totoong magpapadala ng order sa labas.</p>
      <div style="margin-top:10px;display:flex;gap:14px;align-items:center">
        <button class="btn" onclick="toggleCart()">Tingnan Cart</button>
        <button class="btn secondary" onclick="clearCart()">I-clear Cart</button>
      </div>
    </section>

    <section id="about" style="margin-top:18px">
      <h3>Tungkol sa Amin</h3>
      <div style="display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap">
        <div style="flex:1;min-width:260px" class="card">
          <h4>Ang Kuwento</h4>
          <p class="desc">Caf√© San Gregoryo ay itinatag bilang maliit na tambayan ng komunidad malapit sa Simbahan ng San Gregoryo. Naglalayong pagsamahin ang tradisyonal na lasa ng Indang sa modernong porma ng caf√© ‚Äî dito nag-uusap ang matatanda at nagkakatuwaan ang kabataan.</p>
        </div>
        <div style="flex:1;min-width:260px" class="card">
          <h4>Mission</h4>
          <p class="desc">Maghatid ng pagkain at inumin na may puso, suporta sa lokal na magsasaka, at magbigay ng lugar na ligtas at mainit para sa komunidad.</p>
        </div>
      </div>

      <div style="margin-top:14px;display:flex;gap:12px;flex-wrap:wrap">
        <div class="card" style="flex:1;min-width:220px">
          <h4>Lokasyon</h4>
          <p class="small">Harap ng Simbahan ng San Gregoryo, Barangay Poblacion, Indang, Cavite</p>
        </div>
        <div class="card" style="flex:1;min-width:220px">
          <h4>Oras ng Buksan</h4>
          <p class="small">Lunes‚ÄìLinggo: 6:00 AM ‚Äì 9:00 PM</p>
        </div>
      </div>

    </section>

  </main>

  <button class="cart-btn" onclick="toggleCart()">Cart üßæ</button>
  <div id="cartDrawer" class="drawer" aria-hidden="true">
    <h4>Your Order</h4>
    <div id="cartItems"></div>
    <div class="checkout">
      <div style="font-weight:800">Total: ‚Ç±<span id="cartTotal">0</span></div>
      <button class="btn" onclick="checkout()">Checkout</button>
    </div>
  </div>

  <footer>
    <div>¬© Caf√© San Gregoryo ‚Ä¢ Indang</div>
    <div style="opacity:0.8">Made with local love ‚ù§Ô∏è</div>
  </footer>

 <script type="module">
  // Firebase imports
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";

  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyC7QVhaR95hO_dUYcP7dJ__2DW0blpMKFI",
    authDomain: "la-mesa-cafe-system.firebaseapp.com",
    databaseURL: "https://la-mesa-cafe-system-default-rtdb.firebaseio.com",
    projectId: "la-mesa-cafe-system",
    storageBucket: "la-mesa-cafe-system.appspot.com",
    messagingSenderId: "234244615396",
    appId: "1:234244615396:web:87725489a3f70fbbabd0f1",
    measurementId: "G-9CL7KJTYVB"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Cart logic
  let cart = [];

  function renderCart(){
    const el = document.getElementById('cartItems'); 
    el.innerHTML='';
    let total = 0;
    cart.forEach((it, idx) => {
      total += it.price * it.qty;
      const node = document.createElement('div'); 
      node.className='cart-item';
      node.innerHTML = `
        <div style="flex:1">
          <div style="font-weight:700">${it.name}</div>
          <div class="small">‚Ç±${it.price} √ó ${it.qty}</div>
        </div>
        <div class="qty">
          <button onclick="changeQty(${idx}, -1)">-</button>
          <div style="min-width:20px;text-align:center">${it.qty}</div>
          <button onclick="changeQty(${idx}, 1)">+</button>
        </div>
      `;
      el.appendChild(node);
    });
    document.getElementById('cartTotal').innerText = total;
  }

  window.addToCart = function(name, price){
    const found = cart.find(i => i.name === name);
    if(found) found.qty++;
    else cart.push({name, price, qty:1});
    renderCart();
    alert(`${name} added to your cart.`);
  }

  window.changeQty = function(i, delta){
    cart[i].qty += delta; 
    if(cart[i].qty <= 0) cart.splice(i,1);
    renderCart();
  }

  window.clearCart = function(){ 
    if(confirm('Clear cart?')){
      cart=[]; 
      renderCart();
    }
  }

  window.toggleCart = function(){ 
    const d = document.getElementById('cartDrawer'); 
    d.classList.toggle('open'); 
    d.setAttribute('aria-hidden', d.classList.contains('open') ? 'false':'true'); 
    renderCart(); 
  }

  window.checkout = function(){
    if(cart.length === 0){ alert('Cart is empty'); return; }
    const name = prompt('Enter your name for order');
    if(!name) return; 
    const note = prompt('Any note for the order? (optional)') || '';

    // Push order to Firebase Realtime Database
    const ordersRef = ref(db, 'orders');
    const newOrderRef = push(ordersRef);
    set(newOrderRef, {
      customer: name,
      note: note,
      items: cart,
      total: cart.reduce((sum, i) => sum + i.price * i.qty, 0),
      timestamp: Date.now()
    }).then(() => {
      alert(`Order placed online! Total: ‚Ç±${cart.reduce((sum, i) => sum + i.price * i.qty, 0)}`);
      cart = []; 
      renderCart();
      toggleCart();
    }).catch(err => {
      alert('Error placing order: ' + err);
    });
  }

  // Initial render
  renderCart();
 </script>
</body>
</html>
